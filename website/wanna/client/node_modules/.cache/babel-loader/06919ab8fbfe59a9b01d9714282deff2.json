{"remainingRequest":"C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\src\\router\\index.js","mtime":1573165268808},{"path":"C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Auth from '@/components/pages/Auth';\nimport Inspire from '@/components/pages/Inspire';\nimport Wishlist from '@/components/pages/Wishlist';\nimport Outfit from '@/components/pages/Outfit';\nimport Profile from '@/components/pages/Profile';\nimport Manageposts from '@/components/admin/Manageposts';\nimport Manageusers from '@/components/admin/Manageusers';\nVue.use(Router);\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '',\n    name: 'Auth',\n    component: Auth\n    /* meta: { guest: true } */\n\n  }, {\n    path: '/manageposts',\n    name: 'Manageposts',\n    component: Manageposts\n    /* meta: { requiresAuth: true, isAdmin: true } */\n\n  }, {\n    path: '/manageusers',\n    name: 'Manageusers',\n    component: Manageusers\n    /* meta: { requiresAuth: true, isAdmin: true } */\n\n  }, {\n    path: '/inspire',\n    name: 'Inspire',\n    component: Inspire\n    /* meta: { requiresAuth: true } */\n\n  }, {\n    path: '/wishlist',\n    name: 'Wishlist',\n    component: Wishlist\n    /* meta: { requiresAuth: true } */\n\n  }, {\n    path: '/outfit',\n    name: 'Outfit',\n    component: Outfit\n    /* meta: { requiresAuth: true } */\n\n  }, {\n    path: '/:username',\n    name: 'Profile',\n    component: Profile\n    /* meta: { requiresAuth: true } */\n\n  }]\n});\n/*  Com parâmetros (signinup, admin, ...) do meu tp de web. Posteriormente alterar\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.matched.some(record => {console.log(record.meta); return record.meta.requiresAuth})) {\r\n    console.log(store.state.login.accesstoken)\r\n      if ( !store.state.login.accesstoken) {\r\n          next({\r\n              name: 'signinup'\r\n              // params: { nextUrl: to.fullPath }\r\n          })\r\n      } else if(to.matched.some(record => record.meta.isAdmin)) {\r\n          if(store.state.login.isAdmin === true){\r\n              next()\r\n          }\r\n          else{\r\n              next({ name: 'user'})\r\n          }\r\n      }else {\r\n          next()\r\n      }\r\n  } else if(to.matched.some(record => record.meta.guest)) {\r\n      if( store.state.login.accesstoken){\r\n        if (!store.state.login.isAdmin){\r\n          next({ name: 'user'})\r\n        } else {\r\n          next({ name: 'admin'})\r\n        }\r\n      }\r\n      else {\r\n        next()\r\n      }\r\n  } else {\r\n      next() \r\n  }\r\n})\r\n\r\nexport default router\r\n\r\n\r\n*/",{"version":3,"sources":["C:\\Users\\Diana\\Documents\\GitHub\\levifashion\\website\\wanna\\src\\router\\index.js"],"names":["Vue","Router","Auth","Inspire","Wishlist","Outfit","Profile","Manageposts","Manageusers","use","mode","routes","path","name","component"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AAGAR,GAAG,CAACS,GAAJ,CAAQR,MAAR;AAEA,eAAe,IAAIA,MAAJ,CAAW;AACxBS,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,EADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEZ;AACX;;AAJF,GADM,EAON;AACEU,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,aAFR;AAGEC,IAAAA,SAAS,EAAEP;AACX;;AAJF,GAPM,EAaP;AACGK,IAAAA,IAAI,EAAE,cADT;AAEGC,IAAAA,IAAI,EAAE,aAFT;AAGGC,IAAAA,SAAS,EAAEN;AACX;;AAJH,GAbO,EAmBN;AACEI,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAEX;AACX;;AAJF,GAnBM,EAyBN;AACES,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAEV;AACX;;AAJF,GAzBM,EA+BN;AACEQ,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAET;AACX;;AAJF,GA/BM,EAqCN;AACEO,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAER;AACX;;AAJF,GArCM;AAFgB,CAAX,CAAf;AAkDA","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nimport Auth from '@/components/pages/Auth'\r\nimport Inspire from '@/components/pages/Inspire'\r\nimport Wishlist from '@/components/pages/Wishlist'\r\nimport Outfit from '@/components/pages/Outfit'\r\nimport Profile from '@/components/pages/Profile'\r\nimport Manageposts from '@/components/admin/Manageposts'\r\nimport Manageusers from '@/components/admin/Manageusers'\r\n\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '',\r\n      name: 'Auth',\r\n      component: Auth\r\n      /* meta: { guest: true } */\r\n    },\r\n    {\r\n      path: '/manageposts',\r\n      name: 'Manageposts',\r\n      component: Manageposts\r\n      /* meta: { requiresAuth: true, isAdmin: true } */\r\n    },\r\n   {\r\n      path: '/manageusers',\r\n      name: 'Manageusers',\r\n      component: Manageusers\r\n      /* meta: { requiresAuth: true, isAdmin: true } */\r\n    },\r\n    {\r\n      path: '/inspire',\r\n      name: 'Inspire',\r\n      component: Inspire\r\n      /* meta: { requiresAuth: true } */\r\n    },\r\n    {\r\n      path: '/wishlist',\r\n      name: 'Wishlist',\r\n      component: Wishlist\r\n      /* meta: { requiresAuth: true } */\r\n    },\r\n    {\r\n      path: '/outfit',\r\n      name: 'Outfit',\r\n      component: Outfit\r\n      /* meta: { requiresAuth: true } */\r\n    },\r\n    {\r\n      path: '/:username',\r\n      name: 'Profile',\r\n      component: Profile\r\n      /* meta: { requiresAuth: true } */\r\n    }\r\n  ]\r\n})\r\n\r\n\r\n\r\n/*  Com parâmetros (signinup, admin, ...) do meu tp de web. Posteriormente alterar\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.matched.some(record => {console.log(record.meta); return record.meta.requiresAuth})) {\r\n    console.log(store.state.login.accesstoken)\r\n      if ( !store.state.login.accesstoken) {\r\n          next({\r\n              name: 'signinup'\r\n              // params: { nextUrl: to.fullPath }\r\n          })\r\n      } else if(to.matched.some(record => record.meta.isAdmin)) {\r\n          if(store.state.login.isAdmin === true){\r\n              next()\r\n          }\r\n          else{\r\n              next({ name: 'user'})\r\n          }\r\n      }else {\r\n          next()\r\n      }\r\n  } else if(to.matched.some(record => record.meta.guest)) {\r\n      if( store.state.login.accesstoken){\r\n        if (!store.state.login.isAdmin){\r\n          next({ name: 'user'})\r\n        } else {\r\n          next({ name: 'admin'})\r\n        }\r\n      }\r\n      else {\r\n        next()\r\n      }\r\n  } else {\r\n      next() \r\n  }\r\n})\r\n\r\nexport default router\r\n\r\n\r\n*/"]}]}